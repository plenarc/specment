# EARS フォーマット説明

## 概要

EARS (Easy Approach to Requirements Syntax) は、要件を明確かつ一貫性のある形式で記述するための標準フォーマットです。日本語のドキュメントでも、曖昧さを避けるためにEARSキーワードを使用します。

## 主要キーワード

### 頻繁に使用するキーワード

1. **THE [システム名]**
    1. 意味: 主語（何が）
    1. 例: `THE システム SHALL データを保存する`
1. **SHALL**
    1. 意味: 〜しなければならない（義務・必須要件）
    1. 例: `THE システム SHALL ユーザー入力を検証する`
1. **WHEN**
    1. 意味: 〜する時（イベント駆動の条件）
    1. 例: `WHEN ユーザーがボタンを押す時、THE システム SHALL データを送信する`
1. **IF**
    1. 意味: もし〜なら（望ましくない事象への対応）
    1. 例: `IF エラーが発生した場合、THEN THE システム SHALL エラーメッセージを表示する`
1. **WHILE**
    1. 意味: 〜している間（状態駆動の条件）
    1. 例: `WHILE ユーザーがログイン中、THE システム SHALL セッションを維持する`

### その他のキーワード（使用頻度は低い）

1. **WHERE**
    1. 意味: 〜の場合（オプション機能の条件）
    1. 例: `WHERE ユーザーがプレミアム会員の場合、THE システム SHALL 追加機能を提供する`

1. **THEN**
    1. 意味: そうすれば（IFと組み合わせて使用）
    1. 例: `IF 接続が失敗した場合、THEN THE システム SHALL 再接続を試みる`

## EARSパターン

### パターン1: 常時要件（Ubiquitous）

```
THE [システム] SHALL [動作]
```

例: `THE システム SHALL 全ての入力を検証する`

### パターン2: イベント駆動（Event-driven）

```
WHEN [トリガー], THE [システム] SHALL [応答]
```

例: `WHEN ユーザーがログインする時、THE システム SHALL セッションを作成する`

### パターン3: 状態駆動（State-driven）

```
WHILE [条件], THE [システム] SHALL [応答]
```

例: `WHILE データを処理中、THE システム SHALL プログレスバーを表示する`

### パターン4: 望ましくない事象（Unwanted event）

```
IF [条件], THEN THE [システム] SHALL [応答]
```

例: `IF タイムアウトが発生した場合、THEN THE システム SHALL エラーを返す`

### パターン5: オプション機能（Optional feature）

```
WHERE [オプション], THE [システム] SHALL [応答]
```

例: `WHERE デバッグモードが有効な場合、THE システム SHALL 詳細ログを出力する`

### パターン6: 複合（Complex）

```
[WHERE] [WHILE] [WHEN/IF] THE [システム] SHALL [応答]
```

例: `WHERE 管理者権限がある場合、WHEN ユーザーが削除ボタンを押す時、THE システム SHALL データを削除する`

## 使用ガイドライン

1. **日本語との混在**
    1. 日本語のドキュメントでも、EARSキーワードは英語のまま使用する
    1. これにより要件の曖昧さを排除し、義務・条件を明確にする
1. **一貫性**
    1. 全ての要件でEARSフォーマットを統一して使用する
    1. 同じパターンには同じキーワードを使用する
1. **明確性**
    1. 1つの要件には1つの動作のみを記述する
    1. 曖昧な表現（「適切に」「十分に」など）は避ける

## 例: 実際の要件記述

```markdown
### Requirement 1

**User Story:** ユーザーとして、データを安全に保存したい

#### Acceptance Criteria

1. WHEN ユーザーが保存ボタンを押す時、THE システム SHALL データを検証する
2. IF データが無効な場合、THEN THE システム SHALL エラーメッセージを表示する
3. WHILE データを保存中、THE システム SHALL ローディング表示を行う
4. THE システム SHALL 保存完了後に成功メッセージを表示する
```
