---
sidebar_position: 1
hide_table_of_contents: true
---
# バッチ一覧
## データベースインポート {#database-import}
| ID                                     | 機能名   | 機能概要                                   |       cron        | input                   | output             |
| -------------------------------------- | -------- | ------------------------------------------ | :---------------: | ----------------------- | ------------------ |
| [import-products](import-products.mdx) | 商品取込 | tsvの商品情報をテーブル`product`に取り込む | `5 0 * * MON-FRI` | `products-yyyymmdd.tsv` | テーブル `product` |
| import-orders                          | 注文取込 | tsvの商品情報をテーブル`order`に取り込む   | `9 0 * * MON-FRI` | `orders-yyyymmdd.tsv`   | テーブル `order`   |

## 履歴へ移動 {#move-to-history}
| ID                 | 機能名         | 機能概要                                                         |     cron     | input                    | output                     |
| ------------------ | -------------- | ---------------------------------------------------------------- | :----------: | ------------------------ | -------------------------- |
| to-history-product | 商品履歴へ移動 | バッチ実行日時-180日に作成されたレコードを履歴テーブルに移動する | `5 0 5 * *`  | テーブル `product`       | テーブル `product_history` |
| to-history-order   | 注文履歴へ移動 | バッチ実行日時-180日に作成されたレコードを履歴テーブルに移動する | `11 0 5 * *` | テーブル `order_history` | テーブル `order_history`   |

## エラーレベル定義
| ステータス | 説明                                                                                         |
| ---------- | -------------------------------------------------------------------------------------------- |
| `FATAL`    | 致命的なエラー。ただちに対応しないとビジネスに影響がでてしまう場合                           |
| `ERROR`    | エラー。バッチを継続するには問題がある場合。明確なメッセージと対応方法を定義しておく必要あり |
| `WARN`     | 警告。継続はできるが何らかの対処が必要な場合                                                 |
| `INFO`     | 情報表示。バッチの状態や経過を表示する場合                                                   |
| `DEBUG`    | デバッグ用。本番環境でこれが出力されないようにする                                           |
